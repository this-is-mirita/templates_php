<?php 
/**
 * Подключает шаблон, передает туда данные и возвращает итоговый HTML контент
 * @param string $name Путь к файлу шаблона относительно папки templates
 * @param array $data Ассоциативный массив с данными для шаблона
 * @return string Итоговый HTML
 */
function include_template($name, array $data = []) {
    $name = 'templates/' . $name;
    $result = '';

    if (!is_readable($name)) {
        return $result;
    }

    ob_start();          // Начинаем буферизацию вывода
    extract($data);     // Преобразуем массив данных в переменные
    require $name;      // Подключаем шаблон
    $result = ob_get_clean(); // Получаем содержимое буфера и очищаем его

    return $result;     // Возвращаем отрендеренный шаблон
}

// 2. Объяснение функции include_template
// Как работает функция:
// $name = 'templates/' . $name; — Это добавляет к имени файла путь, где находятся шаблоны, то есть файлы с разметкой, такие как header.php, footer.php и т.д.

// ob_start(); — Функция начинает буферизацию вывода, то есть весь вывод, который попадает в шаблон, временно сохраняется в буфере.

// extract($data); — Функция extract преобразует элементы массива $data в переменные. Это значит, что если передан массив вида ['title' => 'Мой заголовок'], в шаблоне появится переменная $title со значением 'Мой заголовок'.

// require $name; — Подключает нужный файл шаблона (например, header.php) и выводит его содержимое.

// $result = ob_get_clean(); — Функция завершает буферизацию и возвращает её содержимое, вместо немедленного вывода.

?>
